<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Late Coffee</title>
<link rel="icon" type="Image/png" href="Image/Late Coffee.png">
<style>
/* Reset & base */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: "Inter", Arial, sans-serif; background: #f5f6f8; color: #222; padding-bottom: 50px; }

/* Header */
.header-container {
  background: #ffffffcc; backdrop-filter: blur(6px);
  padding: 25px 0; text-align: center; font-size: 40px;
  font-weight: 800; color: #026849; border-bottom: 2px solid #e5e5e5;
  letter-spacing: 1px;
}

/* Search bar */
#searchBar {
  width: 90%; margin: 20px auto; display: block; padding: 12px;
  font-size: 16px; border-radius: 12px; border: 1px solid #ddd;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

/* Menu Section */
.menu-section { width: 90%; margin: 40px auto; background: #fff; padding: 25px; border-radius: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }
.menu-section h3 { text-align: center; font-size: 30px; font-weight: 700; color: #026849; margin-bottom: 25px; }
.menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 25px; }

/* Item cards */
.item { background: #ffffff; padding: 15px; border-radius: 16px; text-align: center; box-shadow: 0 3px 10px rgba(0,0,0,0.08); transition: 0.3s; }
.item:hover { transform: translateY(-5px); box-shadow: 0 6px 15px rgba(0,0,0,0.12); }
.item-img { width: 100%; height: 180px; object-fit: cover; border-radius: 14px; margin-bottom: 12px; }
.item h4 { font-size: 20px; margin-bottom: 5px; font-weight: 600; }
.item p { font-size: 16px; font-weight: 500; color: #444; }

/* Buttons */
.order-btn {
  background: #026849; color: white; padding: 10px 0; border: none; width: 100%;
  border-radius: 10px; cursor: pointer; margin-top: 12px; font-size: 15px; transition: 0.2s ease;
}
.order-btn:hover { background: #014d36; transform: scale(1.03); }

/* Order Form */
.order-form { width: 90%; margin: 40px auto; padding: 25px; border-radius: 18px; background: #ffffff; box-shadow: 0 6px 16px rgba(0,0,0,0.08); }
.order-form h3 { font-size: 28px; margin-bottom: 15px; font-weight: 700; color: #026849; }
.order-form label { display: block; margin-top: 15px; font-size: 15px; font-weight: 600; }
.order-form input, .order-form textarea, .order-form select {
  width: 100%; padding: 12px; margin-top: 6px; border: 1px solid #ddd; border-radius: 10px; font-size: 15px;
}
.submit-btn {
  width: 100%; padding: 15px; background: #026849; color: white; font-size: 16px;
  border: none; margin-top: 15px; border-radius: 12px; cursor: pointer; transition: 0.25s;
}
.submit-btn:hover { background: #014d36; }

/* Cart Button */
#cartBox {
  position: fixed; top: 15px; right: 20px; background: #ffbb00; border-radius: 14px; padding: 12px 20px;
  color: black; font-weight: 700; cursor: pointer; box-shadow: 0 5px 10px rgba(0,0,0,0.2); transition: 0.3s;
}
#cartBox:hover { transform: scale(1.05); }

/* Cart Popup with smooth animation */
#cartPopup {
  position: fixed; top: 0; right: 0; width: 330px; height: 100%;
  background: #ffffff; padding: 25px; border-radius: 20px 0 0 20px;
  box-shadow: -4px 0 14px rgba(0,0,0,0.15); transform: translateX(100%);
  transition: transform 0.4s ease-in-out;
  z-index: 300; overflow-y: auto;
}
#cartPopup.open { transform: translateX(0); }

#cartList li { padding: 10px 0; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; }
#cartList li button { cursor: pointer; padding: 3px 6px; border-radius: 5px; border: none; transition: 0.2s; }
#cartList li button:hover { opacity: 0.8; }

/* Total Price */
#totalPrice { margin-top: 15px; font-weight: 700; text-align: center; font-size: 18px; }
</style>
</head>
<body>

<header class="header-container">Late Coffee</header>

<input type="text" id="searchBar" placeholder="Search drinks or food...">

<div class="menu-section" id="menuSection">
  <h3>Drinks Menu‚òï</h3>
  <div class="menu-grid">
    <div class="item"><img src="Image/Latte.png" class="item-img"><h4>Latte</h4><p>$4.80</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Cappucino.png" class="item-img"><h4>Cappucino</h4><p>$5.00</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Iced coffe.jpg" class="item-img"><h4>Iced-coffee</h4><p>$2.00</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Matcha-milk-tea.jpg" class="item-img"><h4>Matcha</h4><p>$4.50</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Lemon Iced tea.jpg" class="item-img"><h4>Lemon Iced tea</h4><p>$2.00</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Cane Juice.jpg" class="item-img"><h4>Cane Juice</h4><p>$3.50</p><button class="order-btn">Order</button></div>
  </div>
</div>

<div class="menu-section">
  <h3>Food Menuüçú</h3>
  <div class="menu-grid">
    <div class="item"><img src="Image/Sandwich.png" class="item-img"><h4>Sandwich</h4><p>$5.00</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Croissant.png" class="item-img"><h4>Croissant</h4><p>$4.50</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/chili-oil-noodles-with-garlic-and-green-onion.jpg" class="item-img"><h4>Chili-oil Noodles</h4><p>$7.00</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/kuy-teav.jpg" class="item-img"><h4>Kuy Teav with Beef balls/Fish balls</h4><p>$10.00</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Bai-Sach-Chrouk.jpg" class="item-img"><h4>Bay Sach Jruk with an omelette</h4><p>$6.50</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Num-Banh-Chok-Khmer.jpg" class="item-img"><h4>Num Banh Chok (Broher Soup)</h4><p>$7.50</p><button class="order-btn">Order</button></div>
    <div class="item"><img src="Image/Num Banh Chok Curry.jpg" class="item-img"><h4>Num Banh Chok (Curry Soup)</h4><p>$8.50</p><button class="order-btn">Order</button></div>
  </div>
</div>

<div class="order-form">
  <h3>Place Your Order</h3>
  <label for="item">Select Item</label>
  <select id="item"><option>Latte</option><option>Cappucino</option><option>Esspresso</option><option>Iced Coffee</option><option>Croissant</option><option>Sandwich</option><option>Chili-oil Noodles</option></select>
  <label>Your Name</label><input type="text" placeholder="Enter your name" required>
  <label>Alternate Ingredients / Specials Request</label><textarea rows="4" placeholder="Example: 50% sugar"></textarea>
  <button class="submit-btn" onclick="showAlert()">Submit Order</button>
</div>

<div id="cartBox" onclick="openCart()">üõíCart: <span id="cartCount">0</span></div>
<div id="cartPopup">
  <h2 style="text-align:center;">üõíYour Order(s)</h2>
  <ul id="cartList"></ul>
  <h3 id="totalPrice"></h3>
  <button onclick="closeCart()" style="width:100%; padding:12px; margin-top:10px; background:#026849; color:white; border:none; border-radius:10px; cursor:pointer;">Close</button>
  <button onclick="gotoCheckout()" style="width:100%; padding:12px; margin-top:10px; background:#ff2f20; color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold;">Checkout</button>
</div>

<script>
// Cart system
let cart = JSON.parse(localStorage.getItem("cartData")) || [];
let cartCountElement = document.getElementById("cartCount");
let cartList = document.getElementById("cartList");
let cartPopup = document.getElementById("cartPopup");

function updateCart() { updateCartList(); updateTotal(); updateCartCount(); saveCart(); }
function saveCart() { localStorage.setItem("cartData", JSON.stringify(cart)); }
function openCart() { cartPopup.classList.add("open"); }
function closeCart() { cartPopup.classList.remove("open"); }
function gotoCheckout() { localStorage.setItem("checkoutCart", JSON.stringify(cart)); window.location.href = "Checkout coffee.html"; }

const orderButtons = document.querySelectorAll(".order-btn");
orderButtons.forEach(button => {
  button.addEventListener("click", () => {
    const itemCard = button.parentElement;
    const name = itemCard.querySelector("h4").textContent;
    const price = parseFloat(itemCard.querySelector("p").textContent.replace("$", ""));
    let existing = cart.find(i => i.name === name);
    if(existing) existing.qty += 1; else cart.push({name, price, qty:1});
    updateCart();
    alert("Added to cart.");
  });
});

function updateCartList() {
  cartList.innerHTML = "";
  cart.forEach((item,i)=>{
    const li = document.createElement("li");
    li.innerHTML = `<strong>${item.name}</strong> $${item.price.toFixed(2)} x
      <button onclick="decreaseQty(${i})">-</button>
      <span>${item.qty}</span>
      <button onclick="increaseQty(${i})">+</button>
      <button onclick="removeItem(${i})" style="background:red;color:white;">x</button>`;
    cartList.appendChild(li);
  });
}
function removeItem(i){ cart.splice(i,1); updateCart(); }
function increaseQty(i){ cart[i].qty+=1; updateCart(); }
function decreaseQty(i){ if(cart[i].qty>1){ cart[i].qty-=1 } else { cart.splice(i,1); } updateCart(); }
function updateTotal(){ document.getElementById("totalPrice").textContent="Total: $"+cart.reduce((sum,item)=>sum+item.price*item.qty,0).toFixed(2); }
function updateCartCount(){ cartCountElement.textContent=cart.reduce((sum,item)=>sum+item.qty,0); }
function showAlert(){ alert("Your order has been submitted!"); }

updateCart();

// Search bar functionality
const searchBar = document.getElementById("searchBar");
searchBar.addEventListener("input", ()=>{
  const query = searchBar.value.toLowerCase();
  document.querySelectorAll(".menu-grid .item").forEach(item=>{
    const text = item.querySelector("h4").textContent.toLowerCase();
    item.style.display = text.includes(query) ? "block" : "none";
  });
});
</script>

</body>
</html>
